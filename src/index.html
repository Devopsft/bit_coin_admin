<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <base href="/"> 
  <!-- <base href="/spruha/ltr/vertical-light/">  -->
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <!-- <meta name="description" content="">
  <meta name="keywords" content=""> -->

  <!-- Title -->
  <title>Bitconia Admin & Dashboard </title>
  <!-- Favicon -->
  <link rel="icon" href="../../assets/img/brand/Symbo-pngl.ico" type="image/x-icon" />

   <!-- Style css -->
   <link href="../../assets/css/skins.css" rel="stylesheet" />
   <link href="../../assets/css/dark-style.css" rel="stylesheet" />
 
   <!-- Color Skin css -->
   <link id="theme" href="../../assets/css/colors/color.css" rel="stylesheet" type="text/css" />
   <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.7.1/dist/umd/index.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<div [ngClass]="{
  darkTheme: setMode
}">
</div> 
 <body class="dark-theme">
  <script type="text/javascript">
    var account;
    // https://docs.walletconnect.com/quick-start/dapps/web3-provider
    var provider = new WalletConnectProvider.default({
        rpc: {
            1: "https://cloudflare-eth.com/", // https://ethereumnodes.com/
            // 137: "https://polygon-rpc.com/", // https://docs.polygon.technology/docs/develop/network-details/network/
            // ...
            56: 'https://bsc-dataseed.binance.org/'
            // 56: "https://bsc-dataseed1.defibit.io/"
        },
        network: 'binance',
        chainId: 56,
        // bridge: 'https://bridge.walletconnect.org',
    });
    var connectWC = async () => {
        await provider.enable();
        //  Create Web3 instance
        const web3 = new Web3(provider);
        window.w3 = web3
        var accounts = await web3.eth.getAccounts(); // get all connected accounts
        account = accounts[0];
        var balance = await web3.eth.getBalance(accounts[0]);
        console.log(account, balance, "acc") // get the primary account
    }
    var balance = async () => {
        await provider.enable();
        //  Create Web3 instance
        const web3 = new Web3(provider);
        window.w3 = web3
        var accounts = await web3.eth.getAccounts(); // get all connected accounts
        account = accounts[0];
        var balance = await web3.eth.getBalance(accounts[0]);
        balance = parseInt(balance) / Math.pow(10, 18)
        balance1 = balance.toString(16);
        console.log(account, balance, balance1, "acc") // get the primary account  
        var amount = 0.0001 * Math.pow(10, 18);
        console.log(amount, "amount0")
        amount = "0x5af3107a400";
        console.log(amount, "amount")
        const tx = {
            from: accounts[0], // Required
            to: "0x3028e8adA24E7d7e6E4ca9fD97C9b35d8A1567Df", // Required (for non contract deployments)
            // data: "0x", // Required
            gasPrice: "0x165A0BC00", // Optional
            gasLimit: "0x32918", // Optional
            value: "0x5af3107a4000", // Optional
        };
        const txHash = await web3.eth.sendTransaction(tx)
        console.log(txHash, "trx")
    }
    // var sign = async (msg) => {
    //     const web3 = new Web3(provider);
    //     window.w3 = web3
    //     var accounts = await web3.eth.getAccounts(); // get all connected accounts
    //     account = accounts[0];
    //     if (w3) {
    //         return await w3.eth.personal.sign(msg, account)
    //     } else {
    //         return false
    //     }
    // }
    var contract = async (abi, address) => {
        if (w3) {
            return new w3.eth.Contract(abi, address)
        } else {
            return false
        }
    }
    var disconnect = async () => {
        // Close provider session
        await provider.disconnect()
    }
    var msg = "sign my id"
    var address = "0x4b4f8ca8fb3e66b5ddafcebfe86312cec486dae1"
    var abi = [{ "inputs": [], "name": "count", "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "increment", "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }], "stateMutability": "nonpayable", "type": "function" }]
</script>
    <app-root></app-root>
  </body>
</div>

</html>

